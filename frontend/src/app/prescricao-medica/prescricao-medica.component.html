<div class="p-grid p-fluid">
    <div class="p-col-12 p-grid">
        <div class="card card-w-title">
            <h1>Prescrição Médica</h1>
            <div class="p-col-12 p-grid">
                <div class="p-md-12 p-fluid">
                    <span class="md-inputfield p-float-label">
                        <input
                            type="text"
                            pInputText
                            class="p-inputtext"
                            name="nome"
                            pTooltip="Pesquisar Paciente por nome"
                            [(ngModel)]="nome"
                            #parametro
                        />
                        <label>Nome paciente</label>
                    </span>
                </div>
                <div class="p-md-3 p-mb-5">
                    <button
                        pButton
                        label="Pesquisar"
                        icon="pi pi-search"
                        pTooltip="Pesquisar Paciente por Nome"
                        (click)="pesquisar()"
                    ></button>
                </div>

                <basis-datatable
                    #datatable
                    type="server"
                    [url]="searchUrl"
                    [rows]="10"
                    [disableView]="true"
                    [disableEdit]="true"
                    [disableDelete]="true"
                    (buttonClick)="btnClick($event)"
                >
                    <p-column header="Prontuário" field="prontuario"></p-column>
                    <p-column header="Nome" field="nome"></p-column>
                    <p-column header="Dt. Nascimento" field="dataDeNascimento">
                        <ng-template let-col="col" let-rowData="rowData" pTemplate="body">
                            <span> {{ rowData[col.field] | date: 'dd/MM/yyyy' }}</span>
                        </ng-template>
                    </p-column>

                    <basis-datatable-button
                        icon="fas fa-utensils"
                        name="prescrever-dieta"
                        [disabled]="datatable.selectedRow ? false : true"
                        bTooltip="Prescrever Dieta"
                        class="p-button-info"
                    >
                    </basis-datatable-button>

                    <basis-datatable-button
                        icon="fas fa-plus-square"
                        name="prescrever-medicamento"
                        [disabled]="datatable.selectedRow ? false : true"
                        bTooltip="Prescrever Medicamento"
                        class="p-button-info"
                    >
                    </basis-datatable-button>

                    <basis-datatable-button
                        icon="fas fa-plus-circle"
                        name="prescrever-procedimento"
                        [disabled]="datatable.selectedRow ? false : true"
                        bTooltip="Prescrever Procedimento Especial"
                        class="p-button-info"
                    >
                    </basis-datatable-button>

                    <basis-datatable-button
                        icon="fab fa-wpforms"
                        name="prescrever-diagnostico"
                        [disabled]="datatable.selectedRow ? false : true"
                        bTooltip="Prescrever Diagnóstico"
                        class="p-button-info"
                    >
                    </basis-datatable-button>

                    <basis-datatable-button
                        icon="far fa-eye"
                        name="listar-prescricoes"
                        [disabled]="datatable.selectedRow ? false : true"
                        bTooltip="Listar Prescrições"
                        class="p-button-success"
                    >
                    </basis-datatable-button>
                </basis-datatable>
            </div>
        </div>
    </div>
</div>
