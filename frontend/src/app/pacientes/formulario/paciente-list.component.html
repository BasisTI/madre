<h1>Pesquisa de Paciente</h1>

<div class="card">
    <div nForm [formGroup]="paciente">
        <div class="p-md-12 p-d-inline">
            <div class="p-md-6" style="display: flex; width: 100%;">
                <span class="p-float-label" style="margin-top: 6px; margin-right: 6px; width: 100%;">
                    <input type="text" pInputText class="ui-inputtext" name="filtro" [(ngModel)]="elasticQuery.value" />
                    <label>Nome paciente</label>
                </span>
                <span class="p-float-label" style="margin-top: 6px; margin-right: 6px; width: 100%;">
                    <input type="text" pInputText class="ui-inputtext" name="filtro" [(ngModel)]="elasticQuery.value" />
                    <label>Prontuario paciente</label>
                </span>
                <div class="button-margin">
                    <button pButton type="button" label="Pesquisar" icon="ui-icon-search"
                        bTooltip="Pesquisar paciente por nome." (click)="pesquisar()"></button>
                </div>
                <div class="button-margin">
                    <button pButton type="button" style="background: #009370;" label="Novo Paciente" icon="ui-icon-add"
                        routerLink="../save" bTooltip="Cadastrar novo Paciente."></button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="p-md-12">
        <ul class="itens-paciente-list">
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="Lixo" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-lixo.png">
                </button>
            </li>
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="Download" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-download.png">
                </button>
            </li>
            <li class="item-paciente-list">
                <a><img src="../../../assets/layout/images/icon-separador.png"></a>
            </li>
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-densidade-baixa.png">
                </button>
            </li>
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-densidade-alta.png">
                </button>
            </li>
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="Selecionar Colunas" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-selecionar-colunas.png">
                </button>
            </li>
            <li class="item-paciente-list">
                <a><img src="../../../assets/layout/images/icon-separador.png"></a>
            </li>
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="Filtrar por Coluna" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-filtro-coluna.png">
                </button>
            </li>
            <li class="item-paciente-list">
                <button class="icon-barra" pTooltip="Pesquisar Paciente" tooltipPosition="top">
                    <img src="../../../assets/layout/images/icon-procurar.png">
                </button>
            </li>
        </ul>
    </div>
    
    <basis-datatable disableEdit="disabled" disableView="disabled" disableDelete="disabled" [url]="searchUrl"
        [showPaginationFooter]="true" [rowsPerPageOptions]="rowsPerPageOptions">
        <p-column header="Prontuário"field="prontuario"></p-column>
        <p-column header="Nome" field="nome"></p-column>
        <p-column header="Nome da Mãe" field="genitores">
            <ng-template let-data="rowData" pTemplate="body">
                {{ data['genitores']?.nomeDaMae }}
            </ng-template>
        </p-column>
        <p-column header="Data de Nascimento" field="dataDeNascimento"></p-column>
        <p-column header="Nº Cartão SUS" field="cartaoSUS">
            <ng-template let-data="rowData" pTemplate="body">
                {{ data['cartaoSUS']?.numero }}
            </ng-template>
        </p-column>
        <p-column header="Ações" field=""></p-column>
    </basis-datatable>
</div>